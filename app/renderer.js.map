{
  "version": 3,
  "file": "renderer.js",
  "sourceRoot": "../src/",
  "sources": [
    "renderer.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\r\n{desktopCapturer} = require 'electron'\r\nquickconnect = require 'rtc-quickconnect'\r\nopts =\r\n  room: 'buddy'\r\n  signaller: 'http://192.168.0.2:3000'\r\ndc = null\r\nwindow.sendMessage = ->\r\n  message = document.querySelector 'input[type=text]'\r\n  .value\r\n  messages = document.querySelector '.messages'\r\n  messages.innerHTML += 'me: ' + message + '\\n'\r\n  dc?.send message\r\ndesktopCapturer.getSources\r\n  types: ['screen', 'window']\r\n, (err, sources) ->\r\n  console.log sources\r\n  handleEvents = (id, _dc) ->\r\n    console.log 'channel opened', id\r\n    dc = _dc\r\n    dc.onMessage = (event) ->\r\n      messages = document.querySelector '.messages'\r\n      messages.innerHTML += 'you: ' + event.data + '\\n'\r\n  navigator.mediaDevices.getUserMedia\r\n    audio: false\r\n    video: true\r\n  .then (stream) ->\r\n    console.log 'stream', stream\r\n    video = document.querySelector 'video'\r\n    quickconnect opts.signaller,\r\n      room: opts.room\r\n      plugins: []\r\n    .createDataChannel 'events'\r\n    .addStream stream\r\n    .on 'call:started', (id, pc, data) ->\r\n      video.srcObject = pc.getRemoteStreams()[0]\r\n      video.onloadedmetadata = (e) ->\r\n        video.play()\r\n    .on 'channel:opened:events', handleEvents\r\n  , (err) ->\r\n    video = document.querySelector 'video'\r\n    desktopCapturer.getSources \r\n      types: ['screen', 'window']\r\n    , (err, sources) ->\r\n      navigator.mediaDevices.getUserMedia\r\n        audio: false\r\n        video:\r\n          mandatory:\r\n            chromeMediaSource: 'desktop'\r\n            chromeMediaSourceId: sources[4].id\r\n      .then (stream) ->\r\n        quickconnect opts.signaller,\r\n          room: opts.room\r\n          plugins: []\r\n        .createDataChannel 'events'\r\n        .addStream stream\r\n        .on 'call:started', (id, pc, data) ->\r\n          video.srcObject = pc.getRemoteStreams()[0]\r\n          video.onloadedmetadata = (e) ->\r\n            video.play()\r\n        .on 'channel:opened:events', handleEvents"
  ]
}